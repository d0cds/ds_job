# ML сервис

Этот сервис предоставляет пользовательский интерфейс для управления личными аккаунтами. Пользователь может регистрироваться, входить в систему, просматривать свой баланс, отправлять запросы (комбинации навыков) в сервис и получать предсказание заработной платы.


## Функциональность

- Регистрация и аутентификация пользователей
- Просмотр баланса
- Запросы к ML сервису и получение предсказаний
- Валидация данных
- Уменьшение баланса перед отправкой запросов

## Установка и настройка

1. Клонируйте репозиторий
2. Настройте переменные окружения
3. Соберите и запустите Docker контейнеры:
   ```
   docker-compose up --build
   ```
## Запуск приложения

- Доступ к веб-интерфейсу: `http://localhost:8001`

## API эндпойнты
- `POST /user/register`: Регистрация нового пользователя
- `POST /user/login`: Вход пользователя и получение JWT токена
- `GET /balance/{user_id}`: Получение баланса пользователя
- `POST /prediction`: Отправка запроса на предсказание
- `GET /history/`: Получение предсказания

## Веб-интерфейс

- Главная страница (`/`): Обзор возможностей ML сервиса
- Регистрация (`/register`): Регистрация пользователя
- Вход (`/login`): Вход пользователя
- Личный кабинет (`/dashboard`): Личный кабинет пользователя
- Предсказание (`/prediction`): Отправка запросов на предсказания

## Тестирование

- Тесты базы данных: `test_database.py`
- Тесты сервисов: `test_userservice.py`
- Тесты API: `test_user_api.py`, `test_prediction_api.py`, `test_history_api.py`

## Переменные окружения
(файл загружен в репозиторий, для экономии времени проверяющего)
- `DB_HOST`= Хост базы данных
- `DB_PORT`= Порт базы данных
- `DB_USER`= Пользователь базы данных
- `DB_PASS`= Пароль базы данных
- `DB_NAME`= Имя базы данных
- `RABBITMQ_USER`= Пользователь RabbitMQ
- `RABBITMQ_PASS`= Пароль RabbitMQ
- `RABBITMQ_HOST`= Хост RabbitMQ
- `RABBITMQ_PORT`= Порт RabbitMQ
- `SECRET_KEY`= Токен
- `ALGORITHM` = Алгоритм шифрования
- `ACCESS_TOKEN_EXPIRE_MINUTES`= Время действия токена